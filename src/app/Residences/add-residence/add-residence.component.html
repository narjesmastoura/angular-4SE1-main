<form [formGroup]="residenceForm" class="p-4 border rounded shadow" (ngSubmit)="onSubmit()">
    <!-- Hidden Field: ID -->
    <input type="hidden" formControlName="id">
  
    <!-- Name -->
    <div class="mb-3">
      <label for="name" class="form-label">Name</label>
      <input type="text" id="name" class="form-control" formControlName="name" placeholder="Enter residence name">
      <small *ngIf="residenceForm.get('name')?.invalid && residenceForm.get('name')?.touched" class="text-danger">
        Name is required and must have at least 3 characters!
      </small>
    </div>
  
    <!-- Address -->
    <div class="mb-3">
      <label for="address" class="form-label">Address</label>
      <input type="text" id="address" class="form-control" formControlName="address" placeholder="Enter address">
      <small *ngIf="residenceForm.get('address')?.invalid && residenceForm.get('address')?.touched" class="text-danger">
        Address is required!
      </small>
    </div>
  
    <!-- Image -->
    <div class="mb-3">
      <label for="image" class="form-label">Image URL</label>
      <input type="text" id="image" class="form-control" formControlName="image" placeholder="Enter image URL">
      <small *ngIf="residenceForm.get('image')?.invalid && residenceForm.get('image')?.touched" class="text-danger">
        Image URL is required and must be valid!
      </small>
    </div>
  
    <!-- Status -->
    <div class="mb-3">
      <label for="status" class="form-label">Status</label>
      <select id="status" class="form-select" formControlName="status">
        <option value="Disponible">Disponible</option>
        <option value="En Construction">En Construction</option>
        <option value="Vendu">Vendu</option>
      </select>
    </div>
  
    <!-- Apartments -->
    <div class="mb-3">
      <label class="form-label">Apartments</label>
      <div *ngFor="let apt of apartmentsArray.controls; let i = index" class="border p-3 mb-2">
        <h5>Apartment {{ i + 1 }}</h5>
        <div class="mb-3">
          <label for="aptNum{{ i }}" class="form-label">Apartment Number</label>
          <input type="text" id="aptNum{{ i }}" class="form-control" formControlName="apartNum">
        </div>
        <div class="mb-3">
          <label for="floorNum{{ i }}" class="form-label">Floor Number</label>
          <input type="text" id="floorNum{{ i }}" class="form-control" formControlName="floorNum">
        </div>
        <div class="mb-3">
          <label for="surface{{ i }}" class="form-label">Surface</label>
          <input type="text" id="surface{{ i }}" class="form-control" formControlName="surface">
        </div>
        <button type="button" class="btn btn-danger" (click)="removeApartment(i)">Remove</button>
      </div>
      <button type="button" class="btn btn-primary mt-3" (click)="addApartment()">Add Apartment</button>
    </div>
  
    <!-- Submit Button -->
    <button type="submit" class="btn btn-success" [disabled]="residenceForm.invalid">Submit</button>
  </form>
  
